
server :
--------

typedef struct {
 int width, height;
 char *name;
} vnc_server_init_t;

vnc_init_server( port, init *)
-----------------

#define W
#define H
#define BPP
#define PORT
unsigned char screen[W * H * BPP / 8];
pixel_format_t fmt = {
	
};
main()
{
	init = {
		.port = PORT,
		.ServerInit
// cb
		.clientinit
		.updatereq = updatereq,
		.setpixfmt
		.setenc
		.keyev
		.pointerev
		.cut
	};
	p = vnc_init_server( &init);
	while (1)
	{
		vnc_poll( p);
	}
	vnc_close_server( p);
}